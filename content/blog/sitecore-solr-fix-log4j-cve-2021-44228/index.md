---
title: "Mitigating CVE-2021-44228 Log4j for your Sitecore SOLR installs"
date: "2021-12-13"
categories: 
  - "sitecore"
tags: 
  - "sitecore"
  - "solr"
  - "log4j"
  - "cve"
  - "cve-2021-44228"
---

# UPDATE

Please also read [my next blogpost](/sitecore-solr-fix-log4j-cve-2021-45046/) on how to upgrade log4j in your local Solr instances for Sitecore.

## Mitigating CVE-2021-44228 Log4j for your Sitecore SOLR installs

As described on [2021-12-10, Apache Solr affected by Apache Log4J CVE-2021-44228](https://solr.apache.org/security.html#apache-solr-affected-by-apache-log4j-cve-2021-44228) I created a simple PowerShell script that you can run on your machine to make sure you have mitigated this vulnerability for your SOLR installation. You cannot simply upgrade to a newer version of SOLR because [Sitecore does not support this](https://support.sitecore.com/kb?id=kb_article_view&sysparm_article=KB0227897)

## Executing this script

The script can be found on [my GitHub](https://github.com/avwolferen/Sitecore.Solr-log4j-mitigation).

Running this script will require Administrator privileges. If you execute this script it will ask you for the drive letter where the solr (root directory) is located. Some people tend to install SOLR on the C-drive and some others on the D-drive. The script will look for the solr.in.cmd files and checks if the suggested mitigation is already present. If not, the script will append the file and restarts the according SOLR Service for you. 

## Cheers!

Any suggestions or modifications are welcome in the form of a Pull Request.

Have a great day.

